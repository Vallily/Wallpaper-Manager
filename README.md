---

本工具基于 Wallpaper Engine 从创意工坊下载的壁纸数据格式运行。
目前还在开发中，求求各位网友提一些建议🙏

写这个主要是为了对小红车取其精华，去其糟粕。平时直接使用小红车存储游戏会有这些问题：

*   **重复下载**：解压了 Application 类型的壁纸（游戏）后，删掉压缩包，Wallpaper Engine 的创意工坊却会自动重新下载，浪费磁盘空间。
*   **意外删除**：为了释放空间而取消订阅，结果导致本地的壁纸或游戏被一并删除。
*   **恶性Bug**：创意工坊偶尔会出现突然大量重新下载所有订阅的 BUG。
*   **内存占用**：即使并没有发生什么bug，大量壁纸也会占用很多内存空间，你无法确认被取消订阅的壁纸真的成功删除了，也无法确认是否存在多余的zip文件。但是，一次性全删除又不是很舍得……

Wallpaper Manager 让你能够将喜爱的资源从创意工坊的束缚中解放出来，安全地储存在个人壁纸库中，并且以更加直观、快捷的方式对其进行管理和“使用”。

---

## 主要功能概览

### 1. 个人壁纸库

使用本软件，你可以轻松创建和管理多个独立的壁纸库。

*   **无缝导入**：可以直接指定 Wallpaper Engine 的创意工坊目录 (`…\workshop\content\431960`)，软件将自动读取所有壁纸及其元数据（如类型、年龄分级等）。
*   **自由创建**：你也可以在硬盘的任何位置创建新的文件夹作为你的个人壁纸库。
*   **数据独立**：每个壁纸库的所有元数据（包括虚拟文件夹结构）都独立保存在其根目录下的 `wallpapers_db.json` 文件中。这意味着即使卸载本程序，你的配置信息也不会丢失，库的迁移也变得异常简单。

> 💡**注**：目前导入壁纸必须要求下载壁纸时附带的`project.json`和`preview`预览图。对于没有这些元数据的视频或者游戏的导入功能还在开发中。
> 导入壁纸功能也不完善，建议手动将壁纸文件丢进去，或者利用物理移动功能。
<img width="1481" height="953" alt="image" src="https://github.com/user-attachments/assets/29c05827-4c98-4100-b550-49d7571b19ab" />

### 2. 智能虚拟文件夹 (VFS)

虽然你的壁纸文件在硬盘上是扁平化存储的（所有壁纸都在库的根目录），但在 Wallpaper Manager 内部，你可以：

*   **自由分类**：创建任意层级的嵌套文件夹，将壁纸按主题、系列或个人喜好进行归类整理。
*   **不影响物理结构**：这种分类方式不会在你的硬盘上创建真实的文件夹，保持了文件系统的整洁。
*   **可选择关闭**：如果你更喜欢纯粹的扁平化视图，可以在设置中一键关闭 VFS 功能，所有壁纸将直接在根目录下展示。
<img width="1015" height="871" alt="image" src="https://github.com/user-attachments/assets/aee0f7aa-8c8c-4ca4-ae1e-4e291b7e0b80" />

### 3. 便捷的交互与预览

软件提供了直观的用户界面和丰富的右键菜单功能，针对不同类型的壁纸进行了优化。

*   **双视图模式**：
    *   **网格模式**：以缩略图形式展示，直观美观，一览无余。
    *   **列表模式**：展示更详细的信息，如类型、分级和文件大小，方便精确查找。
<img width="1481" height="953" alt="image" src="https://github.com/user-attachments/assets/5211727f-07f5-44f9-9990-1b7c26314b60" />
<img width="1481" height="953" alt="image" src="https://github.com/user-attachments/assets/6adb4f68-96c0-496b-9e04-ec1d6538910c" />

*   **针对性操作**：
    *   **Scene (场景壁纸)**：左键单击可直接调用 Wallpaper Engine 窗口进行实时预览。（注意，需要定位Wallpaper Engine本体的路径）
    *   **Video (视频壁纸)**：左键单击可使用内置的简洁播放器进行播放。
    *   **Application (应用/游戏壁纸)**：
        *   **一键解压**：右键菜单提供解压功能，并可以保存常用的解压密码，省去重复输入的麻烦。
        *   **快速启动**：首次运行时，通过右键菜单手动定位一次可执行文件（如 `.exe` 或 `.bat`）。设置成功后，该壁纸的预览图会显示绿色荧光边框，之后你只需左键单击即可直接启动！
        *   **清理**：可清理多余的 ZIP 压缩包文件。

<img width="2524" height="1101" alt="image" src="https://github.com/user-attachments/assets/0802616f-712d-4d83-9e1c-979551cdbc58" />
<img width="1481" height="1104" alt="image" src="https://github.com/user-attachments/assets/1c0155b1-bc33-412b-b03e-9989f26e23bf" />
<img width="1481" height="953" alt="image" src="https://github.com/user-attachments/assets/107bc347-54ad-4f54-bbc5-1ed19fa95a08" />

### 4. 其他实用辅助工具

*   **排序与筛选**：侧边栏提供了按名称、加入时间和大小进行升/降序排列的功能，同时可以和小红车一样根据类型和年龄分级快速筛选。
*   **物理移动**：目前是简单的移动功能，之后会整合开发成在壁纸库之间转移壁纸的功能。（因为单纯移动文件不会把元数据转移）可以用来将壁纸从 Wallpaper Engine 创意工坊文件夹安全迁移到个人壁纸库。
*   **快速定位**：
    *   **在资源管理器中显示**：快速打开壁纸所在的物理文件夹。
    *   **在创意工坊中浏览**：如果壁纸是从创意工坊迁移而来且文件夹名称为创意工坊ID，此功能可以让你一键打开其对应的创意工坊页面。
*   **隐私与偏好设置**：
    *   **自动隐藏成人内容**：可在设置中开启，启动程序时将默认关闭“Questionable”和“Mature”内容的筛选，保护个人隐私。
<img width="1481" height="1104" alt="image" src="https://github.com/user-attachments/assets/d489fb75-99e8-40d4-bc48-cc2645262a55" />

---

## 快速上手指南

1.  **添加壁纸库**：进入“设置”，点击“添加新壁纸库”，选择你的 Wallpaper Engine 创意工坊目录或一个你自建的空文件夹。
2.  **迁移壁纸**：在主界面选中你想要备份的壁纸，通过右键“物理移动”功能，将它们移动到你的个人壁纸库中。
3.  **取消订阅**：迁移完成后，你就可以放心地在 Wallpaper Engine 中取消对这些壁纸的订阅，而无需担心文件丢失。
4.  **开始管理**：现在，你可以在 Wallpaper Manager 中自由地对这些壁纸进行分类、预览和启动了。

---

### 💡重要安全声明

对于 Application 类型的壁纸（通常是游戏），它们是可执行程序。请务必只运行来自你信任的作者的壁纸。在通过本程序设置并启动任何可执行文件之前，强烈建议你自行使用杀毒软件进行安全扫描。因运行不安全的壁纸而导致的任何计算机损坏或数据丢失，本程序概不负责。

> **Tips**：本软件使用Gemini辅助写作，代码结构和数据实现方式都有不同程度的臃肿，希望各位代码大佬轻喷……
> 为了安全起见，所有删除都被设定为移动到回收站，如果不小心弄丢了什么东西可以去回收站看看。
